<html>
    
<body>
    <head>
        <title>REST API Generator</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="./lib/chosen/chosen.min.css">

        <link rel="stylesheet" href="./css/custom.css">
    </head>
        <div class="container">
            <h2>Number of tables: <span data-bind="text: architecture().length"></span></h2>
            <label>User Passwords?</label>
            <input type="checkbox" data-bind="checked: userPasswords">

            <div class="row-container" data-bind="foreach: architecture">
                <div class="row">
                        <div class="col-xs-2">
                            <input data-bind="value: name" class="form-control"/>
                        </div>

                        <div class="col-xs-1 col-xs-offset-9">
                            <a href="#" title="Delete this table">
                                <button class="glyphicon glyphicon-remove btn" data-bind="click: $root.removeTable"></button>
                            </a>
                        </div>
                </div>
				<br>
                <div class="value-container" data-bind="foreach: values">
                <br>
                    <div class="row">       
						<div class="col-xs-1">
							<label>Ref?</label>
							<input type="checkbox" data-bind="checked: foreignReference"/>
						</div>
                        <div class="col-xs-2">
                            <!-- ko if: !foreignReference() -->
                            <input data-bind="value: name"/>
                            <!-- /ko -->

                            <!-- ko if: foreignReference() -->
                            <select data-bind="options: $root.architecture(), value:table, optionsText: 'name'">
                                
                            </select>
                            <!-- /ko -->

							<!--<select data-bind="options: $parent.architecture(), value:name, optionsText: 'name'" class="chosen-select">
							</select> -->
                        </div>
                        <div class="col-xs-3">
                            <!-- ko if:!foreignReference() -->
                            <select data-bind="options: $root.dataTypes, value: type, optionsText: 'name'" class="chosen-select">
                                
                            </select>
                            <!-- /ko -->

                            <!-- ko if:foreignReference() -->
                            <select data-bind="options: referenceOptions, value:value, optionsText: 'name'" >
                                

                            </select>
                            <!-- /ko -->
                        </div>
                        
                        <div class="col-xs-2">
                            <input type="number" data-bind="visible: type().length, value:type().length" />
                        </div>
                        <div class="col-xs-1">
                            <a href="#" title="Make primary key">
                                <span data-bind= "click: togglePrimary, css: {'glyphicon-star' :isPrimary(), 'glyphicon-star-empty' :!isPrimary()}" class="glyphicon"></span>
                            </a>
                        </div>
                        <div class="col-xs-1">
                            <a href="#" title="Delete this value">
                                <button data-bind="click: $parent.removeValue" class="glyphicon glyphicon-remove btn"></button>
                            </a>
                        </div>
<!--                         <div class="col-xs-1">
                            <input type="checkbox" data-bind="checked:references">
                        </div> -->
                        <br>
                        <br>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-1 col-xs-offset-11">
                        <button class="glyphicon glyphicon-plus btn" data-bind="click: addValue"></span>
                    </div>
                </div>
                <br>
            </div>
            <button class="btn" data-bind="click: addTable">Create another table</button>
            <button class="btn" data-bind="click: generateExport">Generate and Export</button>

        </div>

    </body>
    <head>
        <script src="./lib/jquery-3.1.1.min.js"></script>
        <script src="./lib/chosen/chosen.jquery.js" type="text/javascript"></script>
        <script src="./lib/console-save/console-save.js"></script>
        <script src="./lib/knockoutjs/knockout-3.4.0.js"></script>
        <script src="./js/object_handler.js"></script>
    </head>
</html>